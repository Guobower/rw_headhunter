<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- [START] - simple ============================================================================ -->
        <!-- form - simple -->
        <record id="match_view_form_simple" model="ir.ui.view">
            <field name="name">match_view_form_simple</field>
            <field name="model">rw_headhunter.match</field>
            <field name="arch" type="xml">
                <form string="Fast Create">
                    <group>
                        <field name="name"/>
                    </group>
                </form>
            </field>
        </record>
        <!-- action - simple -->
        <record id="match_action_view_form_simple" model="ir.actions.act_window">
            <field name="name">match_action_view_form_simple</field>
            <field name="res_model">rw_headhunter.match</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <!-- <field name="target">new</field> -->
        </record>
        <!-- tree - simple -->
        <record id="match_view_tree_simple" model="ir.ui.view">
            <field name="name">match_view_tree_simple</field>
            <field name="model">rw_headhunter.match</field>
            <field name="arch" type="xml">
                <tree string="Fast List">
                    <field name="name"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <!-- [END] - simple ============================================================================== -->

        <!-- [START] - match ============================================================================ -->
        <!-- CRM Lead Calendar View -->
        <record id="match_view_calendar" model="ir.ui.view">
            <field name="name">match_view_calendar</field>
            <field name="model">rw_headhunter.match</field>
            <field name="priority" eval="2"/>
            <field name="arch" type="xml">
                <calendar string="Applicants" date_start="date_action" all_day="allday"  mode="week" color="trade_id">
                    <field name="name"/>
                </calendar>
            </field>
        </record>
        <!-- form -->
        <record id="match_view_form" model="ir.ui.view">
            <field name="name">match_view_form_inherit</field>
            <field name="model">rw_headhunter.match</field>
            <field name="inherit_id" ref="rw_headhunter.baseattribute_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet" position="before">
                    <header>
                        <field name="stage_id" widget="statusbar" clickable="True"/>
                    </header>
                </xpath>
                <xpath expr="//notebook" position="before">
                    <separator/>
                    <group string="Information">
                        <field name="job_id"/>
                        <field name="personnel_id"/>
                        <field name="job_duty_id"/>
                        <field name="trade_id"/>
                        <field name="priority" widget="priority"/>
                        <field name="date_action"/>
                    </group>
                    <separator/>
                </xpath>
            </field>
        </record>
        <!-- action -->
        <record id="match_action_view_form" model="ir.actions.act_window">
            <field name="name">match_action_view_form</field>
            <field name="res_model">rw_headhunter.match</field>
            <field name="view_ids"
                   eval="[
                          (0, 0, {'view_mode': 'form', 'view_id': ref('match_view_form')})
                          ]"/>
        </record>
        <!-- tree -->
        <record id="match_view_tree" model="ir.ui.view">
            <field name="name">match_view_tree_inherit</field>
            <field name="model">rw_headhunter.match</field>
            <field name="arch" type="xml">
                <tree string="match">
                    <field name="name"/>
                    <field name="job_id"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <!-- action -->
        <record id="match_action_view_kanban" model="ir.actions.act_window">
            <field name="name">match_action_view_kanban</field>
            <field name="res_model">rw_headhunter.match</field>
            <field name="view_ids"
                   eval="[
                          (0, 0, {'view_mode': 'calendar'}),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('match_view_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('match_view_form')})
                          ]"/>
        </record>
        <!-- menu-categories-list -->
        <menuitem id="menu_list_match" name="match list" parent="menu_122"
                  action="match_action_view_kanban"/>
        <!-- [END] - match ============================================================================== -->

        <!-- [START] - job_match ============================================================================ -->
        <!-- kanban -->
        <record id="job_match_view_kanban" model="ir.ui.view">
            <field name="name">job_match_view_kanban</field>
            <field name="model">rw_headhunter.match</field>
            <field name="arch" type="xml">
                <kanban default_group_by="stage_id" class="o_kanban_applicant" on_create="rw_headhunter.match_action_view_form">><!-- create simple -->
                    <field name="stage_id"/>
                    <field name="name"/>
                    <field name="color"/>
                    <templates>
                        <t t-name="kanban-tooltip">
                            <ul class="oe_kanban_tooltip">
                                <li t-if="record.date_action.raw_value"><b>Action:</b> <field name="date_action"/></li>
                            </ul>
                        </t>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_card oe_kanban_global_click oe_applicant_kanban oe_semantic_html_override">
                                <div class="o_dropdown_kanban dropdown">
                                    <a class="dropdown-toggle btn" data-toggle="dropdown" href="#">
                                        <span class="fa fa-bars fa-lg"/>
                                    </a>
                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                        <t t-if="widget.deletable"><li><a type="delete">Delete</a></li></t>
                                        <t t-if="widget.editable"><li><a type="edit">Edit</a></li></t>
                                        <li><ul class="oe_kanban_colorpicker" data-field="color"/></li>
                                    </ul>
                                </div>
                                <div class="oe_kanban_content" tooltip="kanban-tooltip">
                                    <t t-if="record.name.raw_value"><b><field name="name"/></b><br/></t>
                                    <i><field name="name"/></i><br/>
                                    <field name="job_id"/><br/>
                                    <div class="oe_kanban_bottom_right">
                                        <!--<img t-att-src="kanban_image('res.users', 'image_small', record.user_id.raw_value)" t-att-title="record.user_id.value" width="24" height="24" class="oe_kanban_avatar pull-right"/>-->
                                        <div class="pull-left" groups="base.group_user">
                                            <field name="priority" widget="priority"/>
                                        </div>
                                    </div>
                                    <div class="oe_kanban_bottom_left oe_margin_top_4">
                                        <t t-if="record.date_action.raw_value">Action: <field name="date_action"/><br/></t>
                                    </div>
                                    <div class="oe_kanban_footer_left oe_margin_top_4">
                                    </div>
                                </div>
                                <div class="oe_clear"/>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        <!-- action - job_match -->
        <record id="job_match_action_view_kanban" model="ir.actions.act_window">
            <field name="name">job_match_action_view_kanban</field>
            <field name="res_model">rw_headhunter.match</field>
            <field name="domain">[('job_id', '=', active_id)]</field>
            <field name="context">{'search_default_job_id': [active_id], 'default_job_id': active_id}</field>
            <field name="view_ids"
                   eval="[
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('job_match_view_kanban')}),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('match_view_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('match_view_form')})
                          ]"/>
        </record>
        <!-- [END] - job_match ============================================================================== -->
  </data>
</odoo>
